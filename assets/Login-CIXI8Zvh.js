import{r as p,j as s,c as S,u as D,a as I,R as k}from"./index-KTp74jdN.js";import{u as T,P as C,B as y}from"./Button-CYWl9gHK.js";import{z as x,u as B,a as M,C as H,b as U,c as F,d as Z,F as j,L as q,e as W,t as X}from"./FormInput-Dqa2eei3.js";import{u as Q,c as $,a as G,b as V,d as Y}from"./index-DcdW07fb.js";function J(e){const[o,t]=p.useState(void 0);return Q(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const d=r[0];let c,a;if("borderBoxSize"in d){const n=d.borderBoxSize,u=Array.isArray(n)?n[0]:n;c=u.inlineSize,a=u.blockSize}else c=e.offsetWidth,a=e.offsetHeight;t({width:c,height:a})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else t(void 0)},[e]),o}var w="Switch",[K,le]=$(w),[ee,se]=K(w),R=p.forwardRef((e,o)=>{const{__scopeSwitch:t,name:i,checked:r,defaultChecked:d,required:c,disabled:a,value:n="on",onCheckedChange:u,...l}=e,[g,f]=p.useState(null),_=T(o,h=>f(h)),b=p.useRef(!1),v=g?!!g.closest("form"):!0,[m=!1,z]=G({prop:r,defaultProp:d,onChange:u});return s.jsxs(ee,{scope:t,checked:m,disabled:a,children:[s.jsx(C.button,{type:"button",role:"switch","aria-checked":m,"aria-required":c,"data-state":E(m),"data-disabled":a?"":void 0,disabled:a,value:n,...l,ref:_,onClick:V(e.onClick,h=>{z(A=>!A),v&&(b.current=h.isPropagationStopped(),b.current||h.stopPropagation())})}),v&&s.jsx(te,{control:g,bubbles:!b.current,name:i,value:n,checked:m,required:c,disabled:a,style:{transform:"translateX(-100%)"}})]})});R.displayName=w;var N="SwitchThumb",P=p.forwardRef((e,o)=>{const{__scopeSwitch:t,...i}=e,r=se(N,t);return s.jsx(C.span,{"data-state":E(r.checked),"data-disabled":r.disabled?"":void 0,...i,ref:o})});P.displayName=N;var te=e=>{const{control:o,checked:t,bubbles:i=!0,...r}=e,d=p.useRef(null),c=Y(t),a=J(o);return p.useEffect(()=>{const n=d.current,u=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(u,"checked").set;if(c!==t&&g){const f=new Event("click",{bubbles:i});g.call(n,t),n.dispatchEvent(f)}},[c,t,i]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...r,tabIndex:-1,ref:d,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function E(e){return e?"checked":"unchecked"}var L=R,re=P;const O=p.forwardRef(({className:e,...o},t)=>s.jsx(L,{className:S("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-green-400 data-[state=unchecked]:bg-slate-200 dark:focus-visible:ring-slate-300 dark:focus-visible:ring-offset-slate-950 dark:data-[state=checked]:bg-slate-50 dark:data-[state=unchecked]:bg-slate-800",e),...o,ref:t,children:s.jsx(re,{className:S("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 dark:bg-slate-950")})}));O.displayName=L.displayName;const oe=x.object({username:x.string({required_error:"ZOD_REQUERIDO"}).min(3,{message:"ZOD_MIN minimo 3 caracteres"}).max(20,{message:"ZOD_MAX máximo 3 caracteres"}),password:x.string({required_error:"ZOD_REQUERIDO"}).min(3,{message:"ZOD_MIN minimo 3 caracteres"}).max(20,{message:"ZOD_MAX máximo 3 caracteres"})});function de(){var n,u;const{t:e}=B(),o=D(),{register:t,handleSubmit:i,formState:{errors:r}}=M({defaultValues:{username:"",password:""},resolver:X(oe)}),{updateUser:d,login:c}=I(l=>({updateUser:l.updateUser,login:l.login})),a=async l=>{d(l),c(l),o(k.DASHBOARD,{replace:!0})};return s.jsxs(H,{className:"w-fit border-none bg-gray-100 ",children:[s.jsx(U,{className:"dark:bg-slate-950 bg-blue-400 rounded-t-md",children:s.jsx(F,{className:"text-center text-gray-50",children:e("nsLoginRegister.login.title")})}),s.jsx(Z,{className:"py-6",children:s.jsx("form",{onSubmit:i(a),children:s.jsxs("div",{className:"grid w-full items-center gap-4",children:[s.jsx(j,{label:e("nsLoginRegister.login.username"),inputType:"text",inputId:"username",inputPlaceholder:e("nsLoginRegister.login.usernamePlaceholder"),inputAutoComplete:"username",error:(n=r.username)==null?void 0:n.message,...t("username")}),s.jsx(j,{label:e("nsLoginRegister.login.password"),inputType:"password",inputId:"password",inputPlaceholder:e("nsLoginRegister.login.password"),inputAutoComplete:"current-password",error:(u=r.password)==null?void 0:u.message,...t("password")}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(O,{id:"remember-me",defaultChecked:!0}),s.jsx(q,{htmlFor:"remember-me",children:e("nsLoginRegister.login.rememberMe")})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(y,{type:"submit",className:"bg-orange-400 px-10 shadow-lg border-4 border-white outline outline-1 outline-gray-200",style:{transform:"perspective(300px) rotateY(-30deg)"},children:e("nsLoginRegister.login.enter")})})]})})}),s.jsxs(W,{className:"flex flex-col gap-4 justify-center",children:[s.jsx("p",{className:"text-blue-400",children:e("nsLoginRegister.login.forgotPassword")}),s.jsx(y,{className:"bg-blue-400 text-gray-50",onClick:l=>{l.preventDefault(),o(k.SIGNUP,{replace:!0})},children:e("nsLoginRegister.login.register")})]})]})}export{de as Login,oe as loginSchema};
